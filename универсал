import json

def read_files(name):
    j = 'json'
    x = 'xml'
    if j in name:
        with open(name, encoding='utf-8') as datafile:
            json_data = json.load(datafile)
            description_text = ''
            for items in json_data['rss']['channel']['items']:
                description_text += ' ' + items['description']
        return description_text
    elif x in name:
        import xml.etree.ElementTree as ET
        tree = ET.parse(name)
        root = tree.getroot()
        xml_items = root.findall("./channel/item/description")
        description_text = ''
        for items in xml_items:
            description_text = description_text + items.text
        return description_text


def count_word(original_text):
    to_list = original_text.split(' ')
    to_set = set()
    for i in to_list:
        if len(i) > 6:
            to_set.add(i)
    word_value = {}
    for i in to_set:
        count = 0
        for j in to_list:
            if i == j:
                count += 1
        word_value[i] = count
    return word_value


def sort_top(word_value):
    l = lambda word_value: (word_value[1], word_value[1])
    sort_list = sorted(word_value.items(), key=l, reverse=True)
    count = 1
    top_10 = {}

    for word in sort_list:
        top_10[count] = word
        count += 1
        if count == 10:
            break

    for top_10 in top_10.values():
        print('  ', top_10[1], ': ', top_10[0])
    return top_10


def main_menu():
    name = input('Введите имя файла json или xml : ')
    print('Загрузка.....')
    if 'json' in name:
        sort_top(count_word(read_files(name)))

    elif 'xml' in name:
        sort_top(count_word(read_files(name)))

    else:
        print('ОШИБКА')


main_menu()
